syntax = "proto3";

package users;

// Use your real module path here (e.g. github.com/you/yourrepo/users/pb)
option go_package = "github.com/LesterFernandes/tasks/users/pb;pb";

service UsersService {
  // Creates a new user
  rpc CreateUser(CreateUserRequest) returns (CreateUserResponse);
  rpc ListUsers(ListUsersRequest) returns (ListUsersResponse);
  rpc CreateTeam(CreateTeamRequest) returns (CreateTeamResponse);
  rpc AddTeamMember(AddTeamMemberRequest) returns (AddTeamMemberResponse);
}

message CreateUserRequest {
  string email = 1;
  string user_name = 2;
  string name = 3;
}

message CreateUserResponse {
  int32 status = 1; // use int32 for status codes (like HTTP codes)
  string error = 2; // empty if no error
  string user_id = 3; // UUID (string is correct here)
}

message ListUsersRequest {}

message UserResponse {
  string email = 1;
  string user_name = 2;
  string name = 3;
  string user_id = 4;
}

message ListUsersResponse {
  int32 status = 1;
  string error = 2;
  repeated UserResponse users = 3;
}

message CreateTeamRequest {
  string task_id = 1;
  string title = 2;
  string owner_id = 3;
  string descr = 4;
}

message CreateTeamResponse {
  int32 status = 1;
  string error = 2;
  string task_id = 3;
}

message AddTeamMemberRequest {
  string task_id = 1;
  string user_id = 2;
}

message AddTeamMemberResponse {
  int32 status = 1;
  string error = 2;
}
